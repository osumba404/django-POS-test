{% extends "base.html" %}
{% block title %}Payment Status Â· Django POS Payments{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Payment Status</h1>

{% if not_found %}
  <div class="p-3 rounded border border-red-300 bg-red-50 text-red-800">Payment not found.</div>
{% else %}
  <div class="bg-white border rounded p-6 space-y-3">
    <div><span class="font-medium">Payment ID:</span> {{ payment.id }}</div>
    <div><span class="font-medium">Provider:</span> {{ payment.provider }}</div>
    <div><span class="font-medium">Phone:</span> {{ payment.phone_number }}</div>
    <div><span class="font-medium">Amount:</span> {{ payment.amount }} {{ payment.currency }}</div>
    <div><span class="font-medium">Status:</span> <span class="px-2 py-1 rounded text-white {% if payment.status == 'success' %}bg-green-600{% elif payment.status == 'failed' %}bg-red-600{% else %}bg-gray-600{% endif %}">{{ payment.status }}</span></div>
    <div><span class="font-medium">Result Code:</span> {{ payment.result_code|default:'-' }}</div>
    <div><span class="font-medium">Result Desc:</span> {{ payment.result_desc|default:'-' }}</div>
    <div><span class="font-medium">Created:</span> {{ payment.created_at }}</div>
    <div><span class="font-medium">Updated:</span> {{ payment.updated_at }}</div>
  </div>
  <div class="mt-6">
    <a href="/payments/{{ payment.id }}/status/" class="px-4 py-2 bg-gray-800 text-white rounded">Refresh</a>
    <a href="/payments/mpesa/initiate/" class="ml-2 px-4 py-2 bg-blue-600 text-white rounded">New Payment</a>
  </div>
{% endif %}
{% endblock %}
